name: Daily Stock Check

on:
  schedule:
    # üïï ‡∏£‡∏≠‡∏ö‡πÄ‡∏ä‡πâ‡∏≤ 06:00 ‡∏ô. ‡πÑ‡∏ó‡∏¢ (‡∏Ñ‡∏∑‡∏≠ 23:00 UTC ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∑‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤)
    # ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏õ‡πá‡∏ô ‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå-‡∏û‡∏§‡∏´‡∏±‡∏™ (0-4) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ä‡πâ‡∏≤ ‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå-‡∏®‡∏∏‡∏Å‡∏£‡πå ‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏£‡∏≤
    - cron: '0 23 * * 0-4'

    # üïî ‡∏£‡∏≠‡∏ö‡πÄ‡∏¢‡πá‡∏ô 17:50 ‡∏ô. ‡πÑ‡∏ó‡∏¢ (‡∏Ñ‡∏∑‡∏≠ 10:50 UTC)
    # ‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏õ‡πá‡∏ô ‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå-‡∏®‡∏∏‡∏Å‡∏£‡πå (1-5) ‡∏ï‡∏≤‡∏°‡∏õ‡∏Å‡∏ï‡∏¥
    - cron: '53 10 * * 1-5' 
  workflow_dispatch: 

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2

      - name: Set up Python
        uses: actions/setup-python@v2
        with:
          python-version: '3.9'

      - name: Install libraries
        run: pip install -r requirements.txt

      - name: Run Stock Bot
        env:
          DISCORD_WEBHOOK_URL: ${{ secrets.DISCORD_WEBHOOK_URL }}     
        run: python -u main.py
